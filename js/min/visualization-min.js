function init(){console.log("Started at resolution: "+imgResolution),scene=new THREE.Scene,displacementAlpha=1,renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setClearColor(4473924),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),renderer.domElement.style.display="none",scene.position.set(.05*-imgResolution,.25*-imgResolution,.13*imgResolution),camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e10),camera.position.x=0,camera.position.y=.5*imgResolution,window.innerWidth<768&&(camera.position.y+=.8*imgResolution*(1-window.innerWidth/768)),camera.position.z=0,orbit=new THREE.OrbitControls(camera,renderer.domElement),orbit.zoomSpeed=.05,orbit.minDistance=10,orbit.maxDistance=.75*imgResolution,orbit.rotationSpeed=.1,orbit.rotateUp(-1.28),orbit.rotateLeft(-.8),orbit.maxPolarAngle=.9*Math.PI/2,orbit.enableZoom=!0,orbit.autoRotate=!0,orbit.autoRotateSpeed=-1,orbit.update();for(var e=camera.position.y,t=0;gridH>t;t+=2){interpolationIndexes.push(new Array);for(var i=0;gridW>i;i+=2)interpolationIndexes[t].push(barycentricInterpolationIndexes(i/gridW,t/gridH));interpolationIndexes.push(new Array);for(var i=0;gridW>i;i+=2)interpolationIndexes[t+1].push(barycentricInterpolationIndexes((i+1)/gridW,(t+1)/gridH))}stats=new Stats,addSimilaunModel(function(){addSensors(function(){updateMesh(),addBorder(function(){addAmbientLight(),addSky(),window.addEventListener("mousemove",onMouseMove,!1),window.addEventListener("resize",onResize,!1),$(window).bind("tap",onMouseClick),$("canvas").bind("click",onMouseClick),$("#sensors-close").on("click",function(e){showView(0)}),render(),$("canvas").fadeIn()})})})}function addControls(e){var t=new dat.GUI;t.add(e,"ambientLight").onChange(function(e){scene.getObjectByName("ambientLight").visible=e}),t.addColor(e,"ambientLightColor").onChange(function(e){scene.remove(scene.getObjectByName("ambientLight"));var t=new THREE.AmbientLight(e);t.name="ambientLight",scene.add(t)}),t.add(e,"directionalLight").onChange(function(e){scene.getObjectByName("dirLight").visible=e}),t.addColor(e,"fogColor").onChange(function(e){console.log(scene.fog.color),scene.fog.color=new THREE.Color(e)}),t.add(e,"fogNear",1,1e3).onChange(function(e){scene.fog.near=e,scene.needsUpdate=!0}),t.add(e,"fogFar",1,2e3).onChange(function(e){scene.fog.far=e,scene.needsUpdate=!0}),t.add(e,"wireframe").onChange(function(e){scene.getObjectByName("similaunMesh").material.wireframe=e}),t.add(e,"wireframeLineWidth",.1,10).onChange(function(e){scene.getObjectByName("similaunMesh").material.wireframeLinewidth=e,scene.getObjectByName("similaunMesh").material.needsUpdate=!0}),t.addColor(e,"meshColor").onChange(function(e){scene.getObjectByName("similaunMesh").material.color=new THREE.Color(e)}),t.add(e,"useTexture").onChange(function(e){e?scene.getObjectByName("similaunMesh").material.map=similaunTexture:scene.getObjectByName("similaunMesh").material.map=null,scene.getObjectByName("similaunMesh").material.needsUpdate=!0}),t.addColor(e,"topColor").onChange(function(e){scene.getObjectByName("sky").material.uniforms.topColor.value=new THREE.Color(parameters.topColor),scene.getObjectByName("sky").material.needsUpdate=!0}),t.addColor(e,"bottomColor").onChange(function(e){scene.getObjectByName("sky").material.uniforms.bottomColor.value=new THREE.Color(parameters.bottomColor),scene.getObjectByName("sky").material.needsUpdate=!0}),t.addColor(e,"sensorsColor").onChange(function(e){sensors[0][0].material.color=new THREE.Color(e)}),t.addColor(e,"borderColor").onChange(function(e){borderMesh.material.color=new THREE.Color(e)}),t.add(e,"rotSpeed",0,.02),t.add(e,"animate"),t.add(e,"noise",0,imgResolution/15),t.add(e,"autorotate");for(var i=document.getElementsByClassName("taller-than-window"),o=0;o<i.length;o++)i[o].onmouseenter=function(){orbit.disableRotate=!0},i[o].onmouseout=function(){orbit.enableRotate=!0};t.close()}function addDirectionalLight(){renderer.shadowMap.enabled=!0;var e=new THREE.DirectionalLight;e.position.copy(new THREE.Vector3(100,100,0)),e.castShadow=!0,e.shadowCameraNear=25,e.shadowCameraFar=200,e.shadowCameraLeft=-150,e.shadowCameraRight=150,e.shadowCameraTop=50,e.shadowCameraBottom=-50,e.shadowMapWidth=2048,e.shadowMapHeight=2048,e.name="dirLight",scene.add(e),mesh.castShadow=!0,mesh.receiveShadow=!0}function addAmbientLight(){var e=new THREE.AmbientLight(parameters.ambientLightColor);e.name="ambientLight",scene.add(e)}function addSky(){var e="varying vec3 vWorldPosition; void main() {vec4 worldPosition = modelMatrix * vec4( position, 1.0 ); vWorldPosition = worldPosition.xyz;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",t="uniform vec3 topColor;uniform vec3 bottomColor;uniform float offset;uniform float exponent;uniform float opacity;varying vec3 vWorldPosition;void main() {float h = normalize( vWorldPosition + offset ).y;gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ),opacity);}",i={topColor:{type:"c",value:new THREE.Color(parameters.topColor)},bottomColor:{type:"c",value:new THREE.Color(parameters.bottomColor)},offset:{type:"f",value:400},exponent:{type:"f",value:.4},opacity:{type:"f",value:10}};scene.fog=new THREE.Fog(parameters.fogColor,parameters.fogNear,parameters.fogFar),scene.fog.intensity=parameters.fog;var o=new THREE.SphereGeometry(20*imgResolution,32,15),a=new THREE.ShaderMaterial({vertexShader:e,fragmentShader:t,uniforms:i,side:THREE.BackSide}),r=new THREE.Mesh(o,a);r.name="sky",scene.add(r)}function addSimilaunModel(e){var t=new THREE.TextureLoader;t.load("textures/depthMap_scaled"+imgResolution+".jpg",function(i){t.load("textures/colorMap_scaled512.jpg",function(t){zRatio=.06*worldWidth/50,data=generateModel(i.image.width,i.image.height,i),similaunGeometry=new THREE.PlaneBufferGeometry(worldWidth,worldHeight,i.image.width-1,i.image.height-1),similaunGeometry.rotateX(-Math.PI/2);for(var o=similaunGeometry.attributes.position.array,a=0,r=0,n=o.length;n>a;a++,r+=3)o[r+1]=data[a]*zRatio;similaunTexture=t,similaunTexture.wrapS=similaunTexture.wrapT=THREE.RepeatWrapping,similaunTexture.repeat.set(1,1);var s=new THREE.MeshBasicMaterial({map:similaunTexture,wireframe:parameters.wireframe,wireframeLinewidth:parameters.wireframeLineWidth,color:new THREE.Color(parameters.meshColor),shading:THREE.FlatShading});mesh=new THREE.Mesh(similaunGeometry,s),mesh.name="similaunMesh",scene.add(mesh),e()})})}function addSensors(e){sensors=new Array(5),displacements=new Array(7);for(var t=new THREE.BufferGeometry,i=15,o=new Float32Array(3*(i+1)),a=0;i>=a;a++)o[3*a]=Math.sin(2*Math.PI*a/i)*worldWidth/250,o[3*a+1]=0,o[3*a+2]=Math.cos(2*Math.PI*a/i)*worldWidth/250;t.addAttribute("position",new THREE.BufferAttribute(o,3));for(var r=new THREE.LineBasicMaterial({color:16777215,fog:!1,linewidth:2}),n=new Array,s=0;7>s;s++){displacements[s]=new Array(7);for(var d=0;7>d;d++){var l=startx-gridW+s*gridW*.5-d*gridW*.5+3*gridW,m=starty-gridH+d*gridH*.5+s*gridH*.5;s>0&&6>s&&d>0&&6>d&&n.push(m*worldWidth+l),displacements[s][d]=new THREE.Vector3(worldWidth/2*(l-.5*(worldHeight-1))/(.5*worldHeight),data[m*worldWidth+l]*zRatio,worldWidth/2*(m-.5*(worldHeight-1))/(.5*worldHeight))}}for(var s=0;5>s;s++){sensors[s]=new Array(5);for(var d=0;5>d;d++){var r=new THREE.LineBasicMaterial({color:16777215,fog:!1,linewidth:2});sensors[s][d]=new THREE.Line(t,r,THREE.LineStrip),sensors[s][d].position.set(displacements[s+1][d+1].x,displacements[s+1][d+1].y+.05,displacements[s+1][d+1].z),sensors[s][d].sensor_id=5*d+s,scene.add(sensors[s][d])}}var r=new THREE.LineBasicMaterial({color:11184810,fog:!1,linewidth:1,opacity:0,transparent:!0});gridGeometry=new THREE.BufferGeometry;for(var c=[],s=0;5>s;s++)for(var d=0;5>d;d++)4!=s&&(c.push(n[5*d+s]),c.push(n[5*d+s+1])),4!=d&&(c.push(n[5*d+s]),c.push(n[5*(d+1)+s]));gridGeometry.setIndex(new THREE.BufferAttribute(new Uint16Array(c),1)),gridGeometry.addAttribute("position",new THREE.BufferAttribute(similaunGeometry.attributes.position.array,3));var u=new THREE.LineSegments(gridGeometry,r);u.name="grid",scene.add(u),u.position.set(0,.05,0),e()}function addBorder(e){$.getJSON("borders/newBorder_256.json",function(t){borderPoints=t,borderVertices=new Float32Array(3*t.length),borderGeometry.addAttribute("position",new THREE.BufferAttribute(borderVertices,3));var i=new THREE.LineBasicMaterial({color:parameters.borderColor,fog:!1,linewidth:parameters.borderLineWidth});borderMesh=new THREE.Line(borderGeometry,i,THREE.LineStrip),borderMesh.position.set(0,.001*imgResolution,0),scene.add(borderMesh),updateBorderPosition(borderPoints,borderGeometry,0,0,worldWidth-1,worldHeight-1);var o=3*Math.round(.23*t.length);p2016=new THREE.Mesh(new THREE.BoxGeometry(.001,.001,.001),new THREE.MeshBasicMaterial({color:65280,transparent:!0,opacity:0})),p2016.position.set(borderGeometry.attributes.position.array[3*o],borderGeometry.attributes.position.array[3*o+1],borderGeometry.attributes.position.array[3*o+2]),scene.add(p2016),$.getJSON("borders/oldBorder_256.json",function(t){var i=new THREE.BufferGeometry,o=new Float32Array(3*t.length);i.addAttribute("position",new THREE.BufferAttribute(o,3));var a=new THREE.LineBasicMaterial({color:new THREE.Color(16724530),fog:!1,linewidth:parameters.borderLineWidth,transparent:!0,opacity:0}),r=new THREE.Line(i,a,THREE.LineStrip);r.position.set(0,1e-4*imgResolution,0),r.name="oldBorder",scene.add(r),updateBorderPosition(t,i,0,0,worldWidth-1,worldHeight-1);var n=3*Math.round(.228*t.length);p1920=new THREE.Mesh(new THREE.BoxGeometry(.001,.001,.001),new THREE.MeshBasicMaterial({color:65280,transparent:!0,opacity:0})),p1920.position.set(i.attributes.position.array[3*n],i.attributes.position.array[3*n+1],i.attributes.position.array[3*n+2]),scene.add(p1920),e()})})}function generateModel(e,t,i){function o(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),i.getImageData(0,0,e.width,e.height)}function a(e,t,i){var o=4*(t+e.width*i),a=e.data;return{r:a[o],g:a[o+1],b:a[o+2],a:a[o+3]}}for(var r=new Uint8Array(e*t),n=o(i.image),s=a(n,10,10),d=0;t>d;d++)for(var l=0;e>l;l++)r[d*e+l]=a(n,l,d).r;return r}function render(){var e=clock.getDelta(),t=clock.getElapsedTime(),i=Math.max(Math.abs(orbit.getPolarAngle()),Math.abs(orbit.getAzimuthalAngle())),o=Math.abs(camera.position.y-.5*imgResolution);if(animating){if(!animationFinished){var a=.015;orbit.getAzimuthalAngle()>.01&&orbit.rotateLeft(Math.min(a,orbit.getAzimuthalAngle())),orbit.getAzimuthalAngle()<-.01&&orbit.rotateLeft(Math.max(-a,orbit.getAzimuthalAngle())),orbit.getPolarAngle()>.01&&orbit.rotateUp(Math.min(a,orbit.getPolarAngle())),orbit.getPolarAngle()<-.01&&orbit.rotateUp(Math.max(-a,orbit.getPolarAngle())),.01>i&&(animationFinished=!0)}var r=Math.max(0,Math.min(1,2*i-.1));animationFinished&&(r=Math.max(0,Math.min(1,12*i-.2))),mesh.material.transparent=!0,mesh.material.opacity=r,scene.getObjectByName("oldBorder").material.transparent=!0,scene.getObjectByName("oldBorder").material.opacity=1-r,scene.getObjectByName("grid").material.transparent=!0,scene.getObjectByName("grid").material.opacity=1-r,scene.getObjectByName("sky").material.transparent=!0,scene.getObjectByName("sky").material.uniforms.opacity.value=Math.max(r,0),$("#label_1920").css("opacity",1-Math.max(r,0)),$("#label_2016").css("opacity",1-Math.max(r,0)),$("#label").css("opacity",1-Math.max(r,0));var n=toScreenPosition(p1920);$("#label_1920").css("top",n.y-1.2*$("#label_1920").height()),$("#label_1920").css("left",n.x),n=toScreenPosition(p2016),$("#label_2016").css("top",n.y-1.2*$("#label_2016").height()),$("#label_2016").css("left",n.x),animationFinished&&i>.01&&1==r&&(animationFinished=!1,animating=!1,orbit.autoRotate=!0)}var r=Math.min(.99,Math.max(.15,1.5*Math.abs(Math.sin(.2*clock.getElapsedTime()+.3))-.2));if((parameters.animate||.95>r)&&(scene.getObjectByName("similaunMesh").material.color=new THREE.Color(r,r,r),scene.getObjectByName("sky").material.uniforms.topColor.value=new THREE.Color(.4*r,.1+.6*r,.2+.8*r)),stats.update(),orbit.update(),parameters.rotSpeed>0){var s=scene.getObjectByName("dirLight"),d=s.position.x,l=s.position.y;s.position.x=d*Math.cos(parameters.rotSpeed)+l*Math.sin(parameters.rotSpeed),s.position.z=0,s.position.y=l*Math.cos(parameters.rotSpeed)-d*Math.sin(parameters.rotSpeed)}renderer.render(scene,camera),requestAnimationFrame(render)}function updateBorderPosition(e,t,i,o,a,r){var n=Math.sqrt(2),s=.5;if(e){for(var d=similaunGeometry.attributes.position.array,l=t.attributes.position.array,m=0;m<e.length;m+=1){var c=e[m].x*(worldWidth-1),u=e[m].y*(worldHeight-1);if(c>=i&&a>=c&&u>=o&&r>=u){var h=e[m].x-.5,g=e[m].y-.5,p=c-Math.floor(c),w=u-Math.floor(u);c=Math.floor(c),u=Math.floor(u);var b=new THREE.Vector3(d[3*(u*worldWidth+c)],d[3*(u*worldWidth+c)+1],d[3*(u*worldWidth+c)+2]),f=new THREE.Vector3(d[3*(u*worldWidth+c+1)],d[3*(u*worldWidth+c+1)+1],d[3*(u*worldWidth+c+1)+2]),y=new THREE.Vector3(d[3*((u+1)*worldWidth+c+1)],d[3*((u+1)*worldWidth+c+1)+1],d[3*((u+1)*worldWidth+c+1)+2]),E=new THREE.Vector3(d[3*((u+1)*worldWidth+c)],d[3*((u+1)*worldWidth+c)+1],d[3*((u+1)*worldWidth+c)+2]),v=barycentricInterpolation(b,f,y,E,p,w);l[3*m]=v.x,l[3*m+1]=v.y+.05,l[3*m+2]=v.z}}t.attributes.position.needsUpdate=!0}}function onResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onMouseMove(e){var t=new THREE.Vector2;t.x=e.clientX/window.innerWidth*2-1,t.y=2*-(e.clientY/window.innerHeight)+1,raycaster.setFromCamera(t,camera);for(var i=0;i<sensors.length;i++)for(var o=0;o<sensors[i].length;o++)sensors[i][o].material.color.set(16777215);animating||(orbit.autoRotate=!0),parameters.animate=!0;var a=document.getElementById("label");$("#label").css("display","none");for(var i=0;i<sensors.length;i++)for(var r=raycaster.intersectObjects(sensors[i]),n=0;n<r.length;n++){var s=r[n].object.sensor_id;$("#label").css("display","block"),$("#label").html("<span class='label-title'>Sensor</span><br><span class='label-value'>"+coordinates[s].id+"</span><br><span class='label-title'>Latitude<br></span><span class='label-value'>"+convertDDToDMS(coordinates[s].latitude)+"</span><br><span class='label-title'>Longitude<br></span><span class='label-value'>"+convertDDToDMS(coordinates[s].longitude,!0)+"</span><br><span class='label-title'>Altitude<br></span><span class='label-value'>"+coordinates[s].altitude+"m</span>"),r[n].object.material.color=new THREE.Color(6211800),orbit.autoRotate=!1,parameters.animate=!1}}function onMouseClick(e){showView(parameters.animate?0:1)}function showView(e){0==e&&(orbit.autoRotate=!0,orbit.enableZoom=!0,$("#sensors").removeClass("is-visible"),$("#borders").addClass("is-visible")),1==e&&(orbit.autoRotate=!1,parameters.animate=!1,orbit.enableZoom=!1,animating=!0,$("#borders").removeClass("is-visible"),$("#sensors").addClass("is-visible"))}function updateMesh(){for(var e=similaunGeometry.attributes.position.array,t=startx-gridW+3*gridW,i=starty-gridH,o=.5*gridW,a=0;7>a;a++)for(var r=0;7>r;r++){var n=t+r*o-a*o,s=i+a*o+r*o;r>0&&6>r&&a>0&&6>a&&(displacements[r][a].y=data[s*worldWidth+n]*zRatio,sensors[r-1][a-1].position.y=displacementAlpha*displacements[r][a].y+.002*worldWidth)}for(var a=0;6>a;a++)for(var s=a*o,d=i+s,r=0;6>r;r++)for(var n=r*o,l=t+n,m=0;o>m;m++)for(var c=d+n+m,u=l-s-m,h=0;o>h;h+=1)e[3*(c*worldWidth+u)+1]=displacements[r][a].y*interpolationIndexes[2*m][h].a+displacements[r+1][a].y*interpolationIndexes[2*m][h].b+displacements[r+1][a+1].y*interpolationIndexes[2*m][h].c+displacements[r][a+1].y*interpolationIndexes[2*m][h].d,c++,e[3*(c*worldWidth+u)+1]=displacements[r][a].y*interpolationIndexes[2*m+1][h].a+displacements[r+1][a].y*interpolationIndexes[2*m+1][h].b+displacements[r+1][a+1].y*interpolationIndexes[2*m+1][h].c+displacements[r][a+1].y*interpolationIndexes[2*m+1][h].d,u++;updateBorderPosition(borderPoints,borderGeometry,startx-gridW,starty-gridH,startx-gridW+7*gridW,starty-gridH+7*gridH),similaunGeometry.attributes.position.needsUpdate=!0,gridGeometry.attributes.position.needsUpdate=!0}function toScreenPosition(e){var t=new THREE.Vector3,i=.5*window.innerWidth,o=.5*window.innerHeight;return e.updateMatrixWorld(),t.setFromMatrixPosition(e.matrixWorld),t.project(camera),t.x=t.x*i+i,t.y=-(t.y*o)+o,{x:t.x,y:t.y}}function convertDDToDMS(e,t){var i=0>e?t?"W":"S":t?"E":"N",o=0|(0>e?e=-e:e),a=0|e%1*60,r=(0|60*e%1*6e3)/100;return o+"ยบ "+a+"' "+r+'" '+i}var imgResolution=Math.max(128,Math.min(256,Math.pow(2,Math.floor(Math.log2(window.innerWidth/6))))),borderGeometry=new THREE.BufferGeometry,clock=new THREE.Clock,raycaster=new THREE.Raycaster,sensors,lines,renderer,scene,camera,zRatio,sphereMesh,similaunGeometry,gridGeometry,data,control,orbit,data,borderVertexes,borderPoints,similaunTexture,borderMesh,worldWidth=imgResolution,worldHeight=imgResolution,startx=Math.floor(.435*worldWidth),starty=Math.floor(.288*worldHeight),gridW=2*Math.round(.0274*worldWidth),gridH=gridW;console.log("Grid: "+gridW+" "+gridH);var displacements,displacementAlpha,animationStarted=!1,interpolationIndexes=new Array,animating=!1,coordinates=[{id:1,latitude:"46.76696678",longitude:"10.89216134",altitude:3424.14},{id:3,latitude:"46.76625583",longitude:"10.89358736",altitude:3422.61},{id:6,latitude:"46.76548033",longitude:"10.89457847",altitude:3407.89},{id:10,latitude:"46.76469523",longitude:"10.89566494",altitude:3392.64},{id:15,latitude:"46.76386116",longitude:"10.89681896",altitude:3364.88},{id:2,latitude:"46.76628987",longitude:"10.89112327",altitude:3394.63},{id:5,latitude:"46.76546685",longitude:"10.89230318",altitude:3397.21},{id:9,latitude:"46.76470423",longitude:"10.89343579",altitude:3395.82},{id:14,latitude:"46.76389149",longitude:"10.89454863",altitude:3388.76},{id:19,latitude:"46.76308884",longitude:"10.89566521",altitude:3373.32},{id:4,latitude:"46.76552945",longitude:"10.88992797",altitude:3379.99},{id:8,latitude:"46.76474691",longitude:"10.89107509",altitude:3382.36},{id:13,latitude:"46.76384316",longitude:"10.89213326",altitude:3383.26},{id:18,latitude:"46.76313017",longitude:"10.89336190",altitude:3383},{id:22,latitude:"46.76232738",longitude:"10.89445073",altitude:3376.59},{id:7,latitude:"46.76482551",longitude:"10.88883534",altitude:3375.49},{id:12,latitude:"46.76396784",longitude:"10.89000798",altitude:3375.94},{id:17,latitude:"46.76316205",longitude:"10.89104280",altitude:3374.25},{id:21,latitude:"46.76232778",longitude:"10.89220759",altitude:3372.32},{id:24,latitude:"46.76151987",longitude:"10.89328053",altitude:3370.35},{id:11,latitude:"46.76400705",longitude:"10.88761166",altitude:3371.88},{id:16,latitude:"46.76318399",longitude:"10.88879436",altitude:3367.83},{id:20,latitude:"46.76223966",longitude:"10.88991538",altitude:3364.17},{id:23,latitude:"46.76154790",longitude:"10.89103306",altitude:3360.68},{id:25,latitude:"46.76072612",longitude:"10.89202310",altitude:3355.2}];console.log(window.innerWidth);var parameters=new function(){this.ambientLight=!0,this.ambientLightColor="#ffffff",this.directionalLight=!1,this.fog=1,this.fogNear=1,this.fogFar=2*imgResolution,this.rotSpeed=0,this.noise=imgResolution/100,this.meshColor="#ffffff",this.useTexture=!0,this.wireframe=!0,this.topColor="#4499ff",this.bottomColor="#120101",this.fogColor=this.bottomColor,this.animate=!0,this.autorotate=!0,this.sensorsColor="#5EC8D8",this.borderColor="#E5E5E5",this.wireframeLineWidth=.8,this.borderLineWidth=2},p2016,p1920,dis,initialRotation=null,rotationVector,animationFinished=!1;